#!/usr/bin/env python

import argparse

if __name__ == "__main__":
    parser = argparse.ArgumentParser(description = "Slicer's configuration")
    parser.add_argument("--check-bound", action = "store_true",
            help = "Add extra constraints for bound checking (default: false)")
    parser.add_argument("--check-div", action = "store_true",
            default = True,
            help = "Add extra constraints to avoid div-by-zero (default: true)")
    args = parser.parse_args()

    fout = open("config.h", "w")
    fout.write("#ifndef __SLICER_CONFIG_H\n")
    fout.write("#define __SLICER_CONFIG_H\n")
    fout.write("\n")

    if args.check_bound:
        fout.write("#define CHECK_BOUND\n")
    if args.check_div:
        fout.write("#define CHECK_DIV\n")

    fout.write("\n")
    fout.write("#endif\n")
    fout.close()
